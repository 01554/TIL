graph TD
    A[関係詞節] --> B{関係詞節の前に前置詞があるか?}
    B -->|はい| C{先行詞が人か?}
    C -->|はい| D[前置詞 + 関係代名詞 whom を使う]
    C -->|いいえ| E[前置詞 + 関係代名詞 which を使う]
    B -->|いいえ| F{関係詞節が完全文か?}
    F -->|はい| G{先行詞が人か?}
    G -->|はい| H[関係代名詞 who/whom を使う]
    G -->|いいえ| I[関係代名詞 which/that を使う]
    F -->|いいえ| J{関係詞節が表すのは?}
    J -->|場所| K[関係副詞 where を使う]
    J -->|時間| L[関係副詞 when を使う]
    J -->|理由| M[関係副詞 why を使う]
    J -->|方法| N[関係副詞 how を使う]
